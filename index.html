<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XBO Sales Hub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
            min-height: 100vh;
            color: #fff;
        }

        /* Header */
        .header {
            background: #12121f;
            border-bottom: 1px solid #2a2a4a;
            padding: 0 24px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            color: #fff;
        }

        .logo-text {
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav {
            display: flex;
            gap: 8px;
        }

        .nav-link {
            color: #94a3b8;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }

        .nav-link:hover {
            color: #fff;
            background: rgba(99, 102, 241, 0.15);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px;
        }

        /* Hero Section */
        .hero {
            padding: 60px 24px 40px;
            text-align: center;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #fff 0%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
            margin-bottom: 32px;
        }

        .search-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 18px 24px 18px 56px;
            border-radius: 16px;
            border: 2px solid #334155;
            background: #1e293b;
            color: #fff;
            font-size: 1rem;
            outline: none;
            transition: all 0.2s;
        }

        .search-box input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        .search-box input::placeholder {
            color: #64748b;
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: #64748b;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px 60px;
        }

        /* Section Styles */
        .section {
            margin-bottom: 48px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #fff;
        }

        .section-link {
            color: #6366f1;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: color 0.2s;
        }

        .section-link:hover {
            color: #8b5cf6;
        }

        /* Topic Cards Grid */
        .topic-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .topic-card {
            background: #1e293b;
            border-radius: 16px;
            padding: 28px 24px;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s;
            border: 1px solid transparent;
            position: relative;
            display: block;
        }

        .topic-card:hover {
            background: #263548;
            border-color: #334155;
            transform: translateY(-4px);
        }

        .topic-card:active {
            transform: translateY(-2px);
        }

        .topic-icon {
            font-size: 2.5rem;
            margin-bottom: 16px;
            display: block;
        }

        .topic-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: #fff;
        }

        .topic-desc {
            font-size: 0.9rem;
            color: #94a3b8;
            line-height: 1.5;
        }

        .copy-link-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: none;
            color: #475569;
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            opacity: 0;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .topic-card:hover .copy-link-btn {
            opacity: 1;
        }

        .copy-link-btn:hover {
            background: rgba(99, 102, 241, 0.2);
            color: #6366f1;
        }

        .copy-link-btn.copied {
            color: #10b981;
        }

        .copy-tooltip {
            position: absolute;
            top: -30px;
            right: 0;
            background: #0f172a;
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }

        .copy-link-btn:hover .copy-tooltip,
        .copy-link-btn.copied .copy-tooltip {
            opacity: 1;
        }

        /* Recent Updates */
        .updates-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .update-item {
            background: #1e293b;
            border-radius: 12px;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .update-item:hover {
            background: #263548;
            border-color: #334155;
        }

        .update-badge {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: #fff;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            flex-shrink: 0;
        }

        .update-badge.feature {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .update-badge.improvement {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .update-content {
            flex: 1;
        }

        .update-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 2px;
        }

        .update-date {
            color: #64748b;
            font-size: 0.8rem;
        }

        .update-arrow {
            color: #475569;
            font-size: 1.2rem;
        }

        /* Quick Links Bar */
        .quick-links-bar {
            background: #12121f;
            border: 1px solid #2a2a4a;
            border-radius: 12px;
            padding: 20px 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .quick-link {
            background: #1e293b;
            color: #e2e8f0;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
            border: 1px solid #334155;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-link:hover {
            background: #6366f1;
            border-color: #6366f1;
            color: #fff;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 32px 24px;
            color: #475569;
            font-size: 0.85rem;
            border-top: 1px solid #2a2a4a;
        }

        /* Mobile Styles */
        @media (max-width: 900px) {
            .topic-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .nav {
                display: none;
                position: absolute;
                top: 64px;
                left: 0;
                right: 0;
                background: #12121f;
                flex-direction: column;
                padding: 16px;
                border-bottom: 1px solid #2a2a4a;
                gap: 4px;
            }

            .nav.open {
                display: flex;
            }

            .nav-link {
                padding: 12px 16px;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero {
                padding: 40px 20px 30px;
            }

            .hero-title {
                font-size: 1.8rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .topic-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .topic-card {
                padding: 20px;
            }

            .topic-icon {
                font-size: 2rem;
                margin-bottom: 12px;
            }

            .copy-link-btn {
                opacity: 1;
            }

            .quick-links-bar {
                flex-direction: column;
                gap: 10px;
            }

            .quick-link {
                width: 100%;
                justify-content: center;
            }
        }

        /* Search Results */
        .search-results {
            display: none;
            max-width: 600px;
            margin: 16px auto 0;
            background: #1e293b;
            border-radius: 12px;
            border: 1px solid #334155;
            overflow: hidden;
        }

        .search-results.visible {
            display: block;
        }

        .search-result-item {
            padding: 14px 20px;
            border-bottom: 1px solid #2a2a4a;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: inherit;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        .search-result-icon {
            font-size: 1.2rem;
        }

        .search-result-text {
            flex: 1;
        }

        .search-result-title {
            font-weight: 500;
            font-size: 0.95rem;
        }

        .search-result-category {
            font-size: 0.8rem;
            color: #64748b;
        }

        .no-results {
            padding: 20px;
            text-align: center;
            color: #64748b;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <a href="index.html" class="logo">
                <div class="logo-icon">X</div>
                <span class="logo-text">XBO Sales Hub</span>
            </a>
            
            <nav class="nav" id="nav">
                <a href="products.html" class="nav-link">Products</a>
                <a href="case-studies.html" class="nav-link">Case Studies</a>
                <a href="pdf-center.html" class="nav-link">Link Center</a>
                <a href="emoney-faq.html" class="nav-link">eMoney FAQ</a>
                <a href="compliance.html" class="nav-link">Compliance</a>
                <a href="contracts.html" class="nav-link">Contracts</a>
                <a href="procedures.html" class="nav-link">Internal</a>
                <a href="getting-started.html" class="nav-link">ğŸš€ Getting Started</a>
                <a href="onboarding.html" class="nav-link" style="color: #10b981;">ğŸ“ Onboarding</a>
                <a href="updates.html" class="nav-link">Updates</a>
            </nav>

            <button class="mobile-menu-btn" id="mobileMenuBtn">â˜°</button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <h1 class="hero-title">XBO Sales Hub</h1>
        <p class="hero-subtitle">Find anything about XBO products and services</p>
        
        <div class="search-container">
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="searchInput" placeholder="Search products, documents, case studies..." autocomplete="off">
            </div>
            <div class="search-results" id="searchResults"></div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Popular Topics -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Popular Topics</h2>
                <a href="products.html" class="section-link">View all products â†’</a>
            </div>
            
            <div class="topic-grid">
                <a href="products.html#spot" class="topic-card" data-link="products.html#spot">
                    <span class="topic-icon">ğŸ’±</span>
                    <h3 class="topic-title">Spot Exchange</h3>
                    <p class="topic-desc">Fiat â†” Crypto conversion. EUR, USD, GBP to USDT, USDC, and more.</p>
                    <button class="copy-link-btn" onclick="copyLink(event, 'products.html#spot')">
                        <span class="copy-tooltip">Copy link</span>
                        ğŸ”—
                    </button>
                </a>

                <a href="products.html#otc" class="topic-card" data-link="products.html#otc">
                    <span class="topic-icon">ğŸ¦</span>
                    <h3 class="topic-title">OTC Services</h3>
                    <p class="topic-desc">Large volume trading ($500K+). Direct dealing desk access.</p>
                    <button class="copy-link-btn" onclick="copyLink(event, 'products.html#otc')">
                        <span class="copy-tooltip">Copy link</span>
                        ğŸ”—
                    </button>
                </a>

                <a href="products.html#cryptopayx" class="topic-card" data-link="products.html#cryptopayx">
                    <span class="topic-icon">ğŸ’³</span>
                    <h3 class="topic-title">CryptoPayX</h3>
                    <p class="topic-desc">Crypto payment processing. Pay-in, pay-out, mass refunds.</p>
                    <button class="copy-link-btn" onclick="copyLink(event, 'products.html#cryptopayx')">
                        <span class="copy-tooltip">Copy link</span>
                        ğŸ”—
                    </button>
                </a>

                <a href="products.html#emoney" class="topic-card" data-link="products.html#emoney">
                    <span class="topic-icon">ğŸ›ï¸</span>
                    <h3 class="topic-title">Corporate Banking</h3>
                    <p class="topic-desc">Named IBANs, 30+ currencies. SEPA, SWIFT, Faster Payments.</p>
                    <button class="copy-link-btn" onclick="copyLink(event, 'products.html#emoney')">
                        <span class="copy-tooltip">Copy link</span>
                        ğŸ”—
                    </button>
                </a>

                <a href="products.html#earn" class="topic-card" data-link="products.html#earn">
                    <span class="topic-icon">ğŸ“ˆ</span>
                    <h3 class="topic-title">Earn & Staking</h3>
                    <p class="topic-desc">Up to 15% APR on crypto holdings. Flexible terms.</p>
                    <button class="copy-link-btn" onclick="copyLink(event, 'products.html#earn')">
                        <span class="copy-tooltip">Copy link</span>
                        ğŸ”—
                    </button>
                </a>

                <a href="products.html#caas" class="topic-card" data-link="products.html#caas">
                    <span class="topic-icon">âš™ï¸</span>
                    <h3 class="topic-title">CaaS</h3>
                    <p class="topic-desc">White-label for EMIs & Banks. Launch crypto in 4-6 weeks.</p>
                    <button class="copy-link-btn" onclick="copyLink(event, 'products.html#caas')">
                        <span class="copy-tooltip">Copy link</span>
                        ğŸ”—
                    </button>
                </a>
            </div>
        </section>

        <!-- Recent Updates -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Recent Updates</h2>
                <a href="updates.html" class="section-link">View all â†’</a>
            </div>
            
            <div class="updates-list">
                <a href="updates.html" class="update-item">
                    <span class="update-badge feature">New</span>
                    <div class="update-content">
                        <div class="update-title">Sprint 198: Google Pay, eMoney Banking, Virtual IBAN & SWIFT</div>
                        <div class="update-date">February 2, 2026</div>
                    </div>
                    <span class="update-arrow">â†’</span>
                </a>
                
                <a href="updates.html" class="update-item">
                    <span class="update-badge improvement">Update</span>
                    <div class="update-content">
                        <div class="update-title">Sprint 197: Margin/Risk Switcher, In-App Messaging</div>
                        <div class="update-date">January 15, 2026</div>
                    </div>
                    <span class="update-arrow">â†’</span>
                </a>
                
                <a href="updates.html" class="update-item">
                    <span class="update-badge">Coming</span>
                    <div class="update-content">
                        <div class="update-title">ğŸš€ eMoney Full Launch</div>
                        <div class="update-date">February 6, 2026</div>
                    </div>
                    <span class="update-arrow">â†’</span>
                </a>
            </div>
        </section>

        <!-- Quick Links Bar -->
        <section class="section">
            <div class="quick-links-bar">
                <a href="onboarding.html" class="quick-link" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(99, 102, 241, 0.2)); border-color: #10b981;">
                    ğŸ“ Onboarding Track
                </a>
                <a href="pdf-center.html" class="quick-link">
                    ğŸ“„ Link Center
                </a>
                <a href="case-studies.html" class="quick-link">
                    ğŸ“Š Case Studies
                </a>
                <a href="procedures.html" class="quick-link">
                    ğŸ”§ Internal Tools
                </a>
            </div>
        </section>
    </main>

    <!-- AI Chat Widget -->
    <div id="aiChatWidget" class="ai-chat-widget">
        <button class="ai-chat-toggle" onclick="toggleAIChat()">
            <span class="chat-icon">ğŸ¤–</span>
            <span class="chat-label">Ask AI</span>
        </button>
        <div class="ai-chat-panel" id="aiChatPanel">
            <div class="ai-chat-header">
                <span>ğŸ¤– XBO AI Assistant</span>
                <button class="close-chat" onclick="toggleAIChat()">âœ•</button>
            </div>
            <div class="ai-chat-messages" id="aiChatMessages">
                <div class="ai-message bot">
                    <div class="message-content">
                        ğŸ‘‹ Hey! I can help you with:
                        <ul style="margin: 8px 0 0 16px; font-size: 0.85rem;">
                            <li>Product info & pricing</li>
                            <li>Sales pitches by client type</li>
                            <li>Objection handling</li>
                            <li>Compliance questions</li>
                            <li>Process & procedures</li>
                        </ul>
                        <div style="margin-top: 12px; font-size: 0.85rem; color: #94a3b8;">Try: "OTC fee for $3M deal" or "iGaming pitch"</div>
                    </div>
                </div>
            </div>
            <div class="ai-chat-input-area">
                <input type="text" id="aiChatInput" placeholder="Ask anything about XBO..." onkeypress="handleAIChatKeypress(event)">
                <button class="send-btn" onclick="sendAIMessage()">â†’</button>
            </div>
        </div>
    </div>

    <style>
        /* AI Chat Widget */
        .ai-chat-widget {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 1000;
        }

        .ai-chat-toggle {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            border-radius: 50px;
            padding: 14px 24px;
            color: #fff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
            transition: all 0.3s;
        }

        .ai-chat-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(99, 102, 241, 0.5);
        }

        .chat-icon {
            font-size: 1.3rem;
        }

        .ai-chat-panel {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 400px;
            max-height: 500px;
            background: #1e293b;
            border-radius: 16px;
            border: 1px solid #334155;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .ai-chat-panel.open {
            display: flex;
        }

        .ai-chat-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }

        .close-chat {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0.8;
        }

        .close-chat:hover {
            opacity: 1;
        }

        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            max-height: 350px;
        }

        .ai-message {
            margin-bottom: 16px;
        }

        .ai-message.user {
            text-align: right;
        }

        .ai-message.user .message-content {
            background: #6366f1;
            display: inline-block;
            text-align: left;
        }

        .ai-message.bot .message-content {
            background: #0f172a;
        }

        .message-content {
            background: #0f172a;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
            max-width: 90%;
            display: inline-block;
        }

        .message-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 8px 0;
            font-size: 0.85rem;
        }

        .message-content th, .message-content td {
            padding: 6px 10px;
            border: 1px solid #334155;
            text-align: left;
        }

        .message-content th {
            background: #1e293b;
        }

        .message-content ul, .message-content ol {
            margin-left: 16px;
        }

        .message-content strong {
            color: #a5b4fc;
        }

        .copy-response-btn {
            background: #334155;
            border: none;
            color: #94a3b8;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-top: 8px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .copy-response-btn:hover {
            background: #475569;
            color: #fff;
        }

        .copy-response-btn.copied {
            background: #10b981;
            color: #fff;
        }

        .ai-chat-input-area {
            padding: 16px;
            border-top: 1px solid #334155;
            display: flex;
            gap: 8px;
        }

        .ai-chat-input-area input {
            flex: 1;
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 12px 16px;
            color: #fff;
            font-size: 0.9rem;
        }

        .ai-chat-input-area input:focus {
            outline: none;
            border-color: #6366f1;
        }

        .send-btn {
            background: #6366f1;
            border: none;
            color: #fff;
            width: 44px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .send-btn:hover {
            background: #8b5cf6;
        }

        @media (max-width: 768px) {
            .ai-chat-panel {
                width: calc(100vw - 48px);
                right: -12px;
            }
        }
    </style>

    <!-- Footer -->
    <footer class="footer">
        XBO Sales Hub Â· Internal Use Only<br>
        Last updated: February 2026
    </footer>

    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const nav = document.getElementById('nav');

        mobileMenuBtn.addEventListener('click', () => {
            nav.classList.toggle('open');
            mobileMenuBtn.textContent = nav.classList.contains('open') ? 'âœ•' : 'â˜°';
        });

        // Copy link functionality
        function copyLink(event, path) {
            event.preventDefault();
            event.stopPropagation();
            
            const fullUrl = window.location.origin + '/' + path;
            navigator.clipboard.writeText(fullUrl).then(() => {
                const btn = event.currentTarget;
                const tooltip = btn.querySelector('.copy-tooltip');
                btn.classList.add('copied');
                tooltip.textContent = 'Copied!';
                
                setTimeout(() => {
                    btn.classList.remove('copied');
                    tooltip.textContent = 'Copy link';
                }, 2000);
            });
        }

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');

        const searchData = [
            { title: 'Spot Exchange', category: 'Products', icon: 'ğŸ’±', link: 'products.html#spot' },
            { title: 'OTC Services', category: 'Products', icon: 'ğŸ¦', link: 'products.html#otc' },
            { title: 'Earn & Staking', category: 'Products', icon: 'ğŸ“ˆ', link: 'products.html#earn' },
            { title: 'Crypto Liquidity (API)', category: 'Products', icon: 'ğŸŒŠ', link: 'products.html#liquidity' },
            { title: 'CryptoPayX', category: 'Products', icon: 'ğŸ’³', link: 'products.html#cryptopayx' },
            { title: 'Corporate Banking / IBAN', category: 'Products', icon: 'ğŸ›ï¸', link: 'products.html#emoney' },
            { title: 'Crypto Card', category: 'Products', icon: 'ğŸ’', link: 'products.html#cards' },
            { title: 'CaaS (White-label)', category: 'Products', icon: 'âš™ï¸', link: 'products.html#caas' },
            { title: 'CFD Broker Case Study', category: 'Case Studies', icon: 'ğŸ“ˆ', link: 'case-studies.html#cfd' },
            { title: 'EMI Case Study', category: 'Case Studies', icon: 'ğŸ›ï¸', link: 'case-studies.html#emi' },
            { title: 'iGaming Case Study', category: 'Case Studies', icon: 'ğŸ®', link: 'case-studies.html#igaming' },
            { title: 'Creator Platform Case Study', category: 'Case Studies', icon: 'ğŸ¨', link: 'case-studies.html#creator' },
            { title: 'XBO Company Deck', category: 'Documents', icon: 'ğŸ“Š', link: 'pdf-center.html#pitch' },
            { title: 'Product Documentation', category: 'Documents', icon: 'ğŸ“„', link: 'pdf-center.html#products' },
            { title: 'Client Lifecycle', category: 'Procedures', icon: 'ğŸ”„', link: 'procedures.html#client-lifecycle' },
            { title: 'Pipedrive Pipeline', category: 'Procedures', icon: 'ğŸ“Š', link: 'procedures.html#pipedrive' },
            { title: 'Meeting Booking', category: 'Procedures', icon: 'ğŸ“…', link: 'procedures.html#meetings' },
            { title: 'Telegram Groups', category: 'Procedures', icon: 'ğŸ’¬', link: 'procedures.html#telegram' },
            { title: 'Updates & Release Notes', category: 'Updates', icon: 'ğŸš€', link: 'updates.html' },
            { title: 'MFA Setup Guide', category: 'Training', icon: 'ğŸ”', link: 'pdf-center.html#training' },
            { title: 'Corporate Referrals', category: 'Pricing', icon: 'ğŸ¤', link: 'pdf-center.html#pricing' },
            { title: 'API Documentation', category: 'Technical', icon: 'ğŸ”§', link: 'products.html#api' },
            { title: 'OTC Trading', category: 'Products', icon: 'ğŸ’±', link: 'products.html#trading' },
            { title: 'Compliance & MiCA', category: 'Legal', icon: 'âš–ï¸', link: 'products.html#compliance' },
            { title: 'Prohibited & Restricted Jurisdictions', category: 'Compliance', icon: 'âš–ï¸', link: 'compliance.html' },
            { title: 'Contracts & Templates', category: 'Internal', icon: 'ğŸ“‹', link: 'contracts.html' },
            { title: 'Insertion Order (IO)', category: 'Contracts', icon: 'ğŸ“„', link: 'contracts.html#io' },
            { title: 'eMoney FAQ', category: 'eMoney', icon: 'ğŸ¦', link: 'emoney-faq.html' },
            { title: 'eMoney Cards & Payments', category: 'eMoney', icon: 'ğŸ’³', link: 'emoney-faq.html#cards' },
            { title: 'SEPA Payments', category: 'eMoney', icon: 'ğŸ’±', link: 'emoney-faq.html#sepa-payments' },
            { title: 'SWIFT Payments', category: 'eMoney', icon: 'ğŸŒ', link: 'emoney-faq.html#swift-payments' },
            { title: 'eMoney Balances & Roles', category: 'eMoney', icon: 'ğŸ’°', link: 'emoney-faq.html#balance-roles' },
            { title: 'Xero Integration', category: 'eMoney', icon: 'ğŸ”—', link: 'emoney-faq.html#xero-integration' },
            { title: 'Payment Approvals', category: 'eMoney', icon: 'âœ…', link: 'emoney-faq.html#approval-tiers' },
            { title: 'Money Safeguarding', category: 'eMoney', icon: 'ğŸ”’', link: 'emoney-faq.html#money-safeguarding' },
        ];

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase().trim();
            
            if (query.length < 2) {
                searchResults.classList.remove('visible');
                return;
            }

            const filtered = searchData.filter(item => 
                item.title.toLowerCase().includes(query) || 
                item.category.toLowerCase().includes(query)
            );

            if (filtered.length === 0) {
                searchResults.innerHTML = '<div class="no-results">No results found</div>';
            } else {
                searchResults.innerHTML = filtered.slice(0, 6).map(item => `
                    <a href="${item.link}" class="search-result-item">
                        <span class="search-result-icon">${item.icon}</span>
                        <div class="search-result-text">
                            <div class="search-result-title">${item.title}</div>
                            <div class="search-result-category">${item.category}</div>
                        </div>
                    </a>
                `).join('');
            }

            searchResults.classList.add('visible');
        });

        // Hide search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                searchResults.classList.remove('visible');
            }
        });

        // Focus search on / key
        document.addEventListener('keydown', (e) => {
            if (e.key === '/' && document.activeElement !== searchInput) {
                e.preventDefault();
                searchInput.focus();
            }
            if (e.key === 'Escape') {
                searchResults.classList.remove('visible');
                searchInput.blur();
            }
        });

        // ============================================
        // AI CHAT FUNCTIONALITY
        // ============================================
        
        const aiResponses = {
            patterns: [
                // OTC Pricing
                {
                    triggers: ["otc fee", "otc price", "otc rate", "otc pricing", "×¢××œ×ª otc", "××—×™×¨ otc", "otc $", "otc deal"],
                    response: `<strong>OTC Fee Structure:</strong><br><br>
<table>
<tr><th>Deal Size</th><th>Rate</th></tr>
<tr><td>$500K â€“ $2M</td><td>2.00%</td></tr>
<tr><td>$2M â€“ $5M</td><td>1.00% â€“ 1.50%</td></tr>
<tr><td>$5M+</td><td>0.50% â€“ 0.75%</td></tr>
</table>
<br>Default rate: 2%. Large volume clients can negotiate.`,
                    copyText: "OTC Fees:\nâ€¢ $500K-$2M: 2%\nâ€¢ $2M-$5M: 1-1.5%\nâ€¢ $5M+: 0.5-0.75% (negotiable)"
                },
                
                // Spot Pricing
                {
                    triggers: ["spot fee", "spot price", "trading fee", "exchange fee", "×¢××œ×ª ××¡×—×¨"],
                    response: `<strong>Spot Exchange Fees:</strong><br><br>
<table>
<tr><th>Monthly Volume</th><th>Rate</th></tr>
<tr><td>&lt; $500K</td><td>0.80%</td></tr>
<tr><td>$500K â€“ $2M</td><td>0.50%</td></tr>
<tr><td>$2M+</td><td>0.25%</td></tr>
</table>
<br>Default: 0.8%. Volume discounts apply automatically.`,
                    copyText: "Spot Trading Fees:\nâ€¢ <$500K: 0.8%\nâ€¢ $500K-$2M: 0.5%\nâ€¢ $2M+: 0.25%"
                },
                
                // CryptoPayX Pricing  
                {
                    triggers: ["cryptopayx fee", "cryptopayx price", "processing fee", "payment fee", "×¢××œ×ª ×¢×™×‘×•×“"],
                    response: `<strong>CryptoPayX Processing Fees:</strong><br><br>
<table>
<tr><th>Monthly Flow</th><th>Rate</th></tr>
<tr><td>Up to $1M</td><td>1.50%</td></tr>
<tr><td>$1M â€“ $5M</td><td>1.00%</td></tr>
<tr><td>$5M â€“ $10M</td><td>0.75%</td></tr>
<tr><td>$10M+</td><td>0.50%</td></tr>
</table>
<br>Default: 1.5%. Enterprise pricing available.`,
                    copyText: "CryptoPayX Fees:\nâ€¢ Up to $1M: 1.5%\nâ€¢ $1M-$5M: 1%\nâ€¢ $5M-$10M: 0.75%\nâ€¢ $10M+: 0.5%"
                },

                // Credit Line
                {
                    triggers: ["credit line", "what is credit", "explain credit", "×§×¨×“×™×˜ ×œ×™×™×Ÿ", "×§×¨×“×™×˜"],
                    response: `<strong>ğŸ’° Credit Line</strong><br><br>
Trade without holding funds upfront.<br><br>
<strong>How it works:</strong><br>
1. Get approved credit limit (fiat/crypto)<br>
2. Execute trades using the credit<br>
3. Settle within agreed timeframe<br>
4. Track usage in real-time<br><br>
<strong>Best for:</strong> CFD Brokers, Trading Platforms, Market Makers`,
                    copyText: "XBO Credit Line enables trading without upfront funds. Execute trades first, settle later. Perfect for brokers and trading platforms needing liquidity flexibility."
                },
                
                // CaaS
                {
                    triggers: ["caas", "crypto as a service", "white label", "××” ×–×” ×§××¡"],
                    response: `<strong>âš™ï¸ CaaS - Crypto-as-a-Service</strong><br><br>
White-label crypto infrastructure for banks & fintechs.<br><br>
<strong>Includes:</strong><br>
â€¢ ğŸŒŠ Deep liquidity (50+ exchanges)<br>
â€¢ ğŸ” Custody (SOC 2, insured)<br>
â€¢ âš–ï¸ MiCA & AML compliance<br>
â€¢ ğŸ“± White-label UI<br>
â€¢ ğŸ’¹ Staking & Earn<br><br>
<strong>Time to market:</strong> 4-6 weeks`,
                    copyText: "XBO CaaS: Launch your own crypto offering in 4-6 weeks. Complete white-label solution with liquidity, custody, compliance, and UI."
                },
                
                // CryptoPayX
                {
                    triggers: ["cryptopayx", "crypto payment", "payment processing", "accept crypto"],
                    response: `<strong>ğŸ’³ CryptoPayX</strong><br><br>
Instant crypto payment processing.<br><br>
<strong>Features:</strong><br>
â€¢ âš¡ Real-time processing<br>
â€¢ ğŸŒ Global coverage<br>
â€¢ ğŸ’± Fiat/stablecoin settlement<br>
â€¢ ğŸ”’ Dedicated wallet per client<br><br>
<strong>Best for:</strong> iGaming, Forex, Creator Platforms`,
                    copyText: "CryptoPayX: Instant crypto payment processing. Accept deposits globally, real-time settlement."
                },
                
                // IBAN
                {
                    triggers: ["iban", "emoney", "corporate iban", "banking", "sepa"],
                    response: `<strong>ğŸ¦ eMoney / Corporate IBAN</strong><br><br>
Dedicated IBAN accounts with full banking rails.<br><br>
<strong>Features:</strong><br>
â€¢ ğŸ‡ªğŸ‡º SEPA transfers<br>
â€¢ ğŸŒ SWIFT international<br>
â€¢ ğŸ‡¬ğŸ‡§ UK Faster Payments<br>
â€¢ ğŸ’± Multi-currency<br>
â€¢ ğŸ”— Crypto bridge<br><br>
<strong>Pro tip:</strong> IBAN clients benefit from our Credit Line!`,
                    copyText: "XBO Corporate IBAN: SEPA, SWIFT & Faster Payments. Multi-currency with crypto bridge."
                },

                // iGaming Pitch
                {
                    triggers: ["igaming pitch", "casino pitch", "gambling pitch", "igaming client", "gaming client"],
                    response: `<strong>ğŸ° iGaming Sales Pitch</strong><br><br>
"Looking for reliable crypto payments for your platform?"<br><br>
<strong>Why XBO:</strong><br>
âœ… Instant deposits - players fund in seconds<br>
âœ… Global reach - accept from restricted regions<br>
âœ… 1-1.5% fees (vs 3-5% cards)<br>
âœ… Zero chargebacks<br>
âœ… Player privacy<br><br>
<strong>Results:</strong> 40% better conversion, 60% lower costs`,
                    copyText: "XBO CryptoPayX for iGaming:\n\nâ€¢ Instant crypto deposits\nâ€¢ Global reach (no banking restrictions)\nâ€¢ 1-1.5% fees (vs 3-5% cards)\nâ€¢ Zero chargebacks\nâ€¢ Player privacy\n\nOur iGaming clients see 40% better deposit conversion and 60% lower costs."
                },
                
                // Broker Pitch
                {
                    triggers: ["broker pitch", "cfd pitch", "forex pitch", "trading pitch", "broker client"],
                    response: `<strong>ğŸ“ˆ Broker/Trading Platform Pitch</strong><br><br>
"Need liquidity flexibility for trading operations?"<br><br>
<strong>Why XBO:</strong><br>
âœ… Credit Line - trade without upfront capital<br>
âœ… Deep liquidity across 50+ venues<br>
âœ… Fiat & crypto coverage<br>
âœ… Real-time settlement<br>
âœ… API-first integration<br><br>
<strong>Results:</strong> Better capital efficiency, 24/7 trading`,
                    copyText: "XBO for Trading Platforms:\n\nâ€¢ Credit Line - trade without upfront funds\nâ€¢ Deep liquidity across 50+ venues\nâ€¢ Fiat & crypto coverage\nâ€¢ Real-time settlement\nâ€¢ Full API integration"
                },
                
                // Bank/EMI Pitch
                {
                    triggers: ["bank pitch", "emi pitch", "fintech pitch", "bank client", "emi client"],
                    response: `<strong>ğŸ›ï¸ Bank/EMI/Fintech Pitch</strong><br><br>
"Want crypto services without building from scratch?"<br><br>
<strong>Why XBO CaaS:</strong><br>
âœ… 4-6 weeks to launch (not 12+ months)<br>
âœ… Full MiCA & AML compliance<br>
âœ… Your brand, our infrastructure<br>
âœ… New revenue stream<br><br>
<strong>Includes:</strong> Trading, Custody, Staking, Cards, Full API`,
                    copyText: "XBO CaaS for Banks & Fintechs:\n\nâ€¢ Launch crypto in 4-6 weeks\nâ€¢ Full MiCA & AML compliance\nâ€¢ Complete white-label solution\nâ€¢ Trading, custody, staking, cards"
                },

                // Prohibited Countries
                {
                    triggers: ["prohibited", "restricted", "blocked countries", "can't work", "××“×™× ×•×ª ×—×¡×•××•×ª"],
                    response: `<strong>âš–ï¸ Prohibited & Restricted</strong><br><br>
<strong>ğŸš« Prohibited:</strong><br>
Russia, Iran, North Korea, Cuba, Syria, Belarus, Myanmar, Venezuela, and sanctioned territories.<br><br>
<strong>âš ï¸ Restricted (extra DD):</strong><br>
UAE, Turkey, Nigeria, Pakistan, Philippines, and others.<br><br>
ğŸ“‹ Full list: <a href="compliance.html" style="color: #818cf8;">compliance.html</a>`,
                    copyText: null
                },
                
                // Settlement Times
                {
                    triggers: ["settlement time", "how long", "when settled", "×–××Ÿ ×¡×œ×™×§×”"],
                    response: `<strong>â±ï¸ Settlement Times:</strong><br><br>
â€¢ <strong>Crypto deposits:</strong> Instant (after confirms)<br>
â€¢ <strong>Crypto withdrawals:</strong> Minutes to hours<br>
â€¢ <strong>SEPA:</strong> Same-day or T+1<br>
â€¢ <strong>SWIFT:</strong> 1-3 business days<br>
â€¢ <strong>UK Faster Payments:</strong> Instant<br>
â€¢ <strong>Credit Line:</strong> As agreed (usually T+1)`,
                    copyText: "Settlement:\nâ€¢ Crypto: Instant\nâ€¢ SEPA: Same-day/T+1\nâ€¢ SWIFT: 1-3 days\nâ€¢ UK Faster Payments: Instant"
                },
                
                // Supported Crypto
                {
                    triggers: ["supported coins", "which crypto", "what coins", "currencies", "××˜×‘×¢×•×ª"],
                    response: `<strong>ğŸª™ Supported Cryptocurrencies:</strong><br><br>
<strong>Major:</strong> BTC, ETH, USDT, USDC, XRP, SOL, ADA, DOT<br><br>
<strong>Stablecoins:</strong> USDT, USDC, DAI<br><br>
<strong>Networks:</strong> Ethereum, BSC, Polygon, Solana, Tron, Arbitrum, Optimism<br><br>
600+ trading pairs available!`,
                    copyText: "Supported: BTC, ETH, USDT, USDC, XRP, SOL + 600 pairs\nNetworks: Ethereum, BSC, Polygon, Solana, Tron, Arbitrum"
                },
                
                // Onboarding
                {
                    triggers: ["onboarding", "client onboarding", "new client", "how to onboard"],
                    response: `<strong>ğŸ”„ Client Onboarding Process:</strong><br><br>
1. <strong>Discovery call</strong> - identify needs<br>
2. <strong>Documentation</strong> - KYB docs (3-5 days review)<br>
3. <strong>Agreement</strong> - sign Insertion Order<br>
4. <strong>Setup</strong> - Telegram group, API creds<br>
5. <strong>Go Live</strong> - first transaction<br><br>
ğŸ“‹ Details: <a href="procedures.html" style="color: #818cf8;">procedures.html</a>`,
                    copyText: null
                },

                // Getting Started / New Client Guide
                {
                    triggers: ["how to deposit", "deposit fiat", "deposit crypto", "×”×¤×§×“×”", "××™×š ××¤×§×™×“×™×"],
                    response: `<strong>ğŸ’¶ How to Deposit:</strong><br><br>
<strong>FIAT (Card/Bank):</strong><br>
1. Click "Deposit" â†’ Choose Card or Bank<br>
2. Enter amount & bank details<br>
3. Get Transaction ID (add to wire reference!)<br>
Min: Card $10, Wire $100<br><br>
<strong>CRYPTO:</strong><br>
1. Wallet â†’ Select coin â†’ Deposit<br>
2. Choose network (must match sending wallet!)<br>
3. Copy address or scan QR<br><br>
ğŸ“‹ Full guide: <a href="getting-started.html#deposit-fiat" style="color: #818cf8;">getting-started.html</a>`,
                    copyText: "How to Deposit:\n\nFIAT: Deposit â†’ Card/Bank â†’ Enter amount â†’ Get TXN ID (add to wire reference)\nMin: Card $10, Wire $100\n\nCRYPTO: Wallet â†’ Select coin â†’ Deposit â†’ Choose network â†’ Copy address"
                },
                
                {
                    triggers: ["how to withdraw", "withdraw fiat", "withdraw crypto", "××©×™×›×”", "××™×š ××•×©×›×™×"],
                    response: `<strong>ğŸ’¸ How to Withdraw:</strong><br><br>
<strong>FIAT:</strong><br>
1. Wallet â†’ Select currency â†’ Withdraw<br>
2. Enter amount & bank details<br>
3. Confirm with OTP (SMS)<br>
Min: $100 / â‚¬100 / Â£100<br><br>
<strong>CRYPTO:</strong><br>
1. Wallet â†’ Select coin â†’ Withdraw<br>
2. Enter amount, network & destination address<br>
3. Confirm with OTP<br>
ğŸ’¡ XBO to XBO = 0 fees!<br><br>
ğŸ“‹ Full guide: <a href="getting-started.html#withdraw-fiat" style="color: #818cf8;">getting-started.html</a>`,
                    copyText: "How to Withdraw:\n\nFIAT: Wallet â†’ Currency â†’ Withdraw â†’ Enter bank details â†’ OTP\nMin: $100\n\nCRYPTO: Wallet â†’ Coin â†’ Withdraw â†’ Enter address â†’ OTP\nXBO to XBO transfers = 0 fees!"
                },
                
                {
                    triggers: ["verification", "kyc level", "pro account", "××™××•×ª", "verify account"],
                    response: `<strong>âœ… Verification Levels:</strong><br><br>
<strong>01. Occasional:</strong> Email+phone<br>
â†’ Crypto: $1K/day withdraw<br><br>
<strong>02. Basic:</strong> ID verification<br>
â†’ Crypto: $500K/day | Fiat: $100K/day<br><br>
<strong>03. PRO:</strong> Address + questionnaire<br>
â†’ <strong>Unlimited</strong> crypto & fiat<br><br>
ğŸ’¡ To reach PRO: Upload live selfie (not from gallery) + address proof<br><br>
ğŸ“‹ Full guide: <a href="getting-started.html#verification" style="color: #818cf8;">getting-started.html</a>`,
                    copyText: "Verification Levels:\n\n1. Occasional: Email+phone â†’ $1K/day crypto\n2. Basic: ID verified â†’ $500K crypto, $100K fiat\n3. PRO: Address verified â†’ Unlimited\n\nTo reach PRO: Upload live selfie + address proof"
                },
                
                {
                    triggers: ["api key", "generate api", "api docs", "××¤×ª×— api"],
                    response: `<strong>ğŸ”‘ API Keys:</strong><br><br>
1. Profile icon â†’ Security<br>
2. Choose: <strong>Client API</strong> or <strong>CryptoPayX API</strong><br>
3. Select Sandbox (test) or Production (live)<br>
4. Generate keys<br>
5. <strong>Whitelist IPs</strong> â†’ Email support@xbo.com<br><br>
âš ï¸ Keys are NOT recoverable - save them!<br><br>
ğŸ“š Docs: <a href="https://docs.xbo.com" style="color: #818cf8;">docs.xbo.com</a>`,
                    copyText: "API Setup:\n1. Profile â†’ Security\n2. Choose Client API or CryptoPayX API\n3. Generate Sandbox (test) or Production (live)\n4. Whitelist IPs â†’ support@xbo.com\n\nDocs: docs.xbo.com"
                },
                
                {
                    triggers: ["minimum deposit", "minimum withdrawal", "min deposit", "min withdrawal"],
                    response: `<strong>ğŸ’° Minimums:</strong><br><br>
<strong>Deposit (Card):</strong> $10 / â‚¬10 / Â£10<br>
<strong>Deposit (Wire):</strong> $100 / â‚¬100 / Â£100 / CHF 100 / AUD 5000<br><br>
<strong>Withdrawal:</strong> $100 / â‚¬100 / Â£100 / CHF 100 / AUD 5000`,
                    copyText: "Minimums:\n\nDeposit Card: $10\nDeposit Wire: $100\nWithdrawal: $100\n(EUR/GBP same amounts)"
                },
                
                // Corporate Registration
                {
                    triggers: ["registration link", "corporate register", "open account", "new account link", "onboarding link", "×œ×™× ×§ ×”×¨×©××”", "×¤×ª×™×—×ª ×—×©×‘×•×Ÿ"],
                    response: `<strong>ğŸ”— Corporate Registration Link:</strong><br><br>
<a href="https://www.xbo.com/corporate/register" target="_blank" style="color: #818cf8; font-size: 1.1rem;">xbo.com/corporate/register</a><br><br>
<strong>When sharing this link:</strong><br>
1. Collect: Company Name + Email<br>
2. Send the link<br>
3. Notify Marcel on Teams â†’ "New Onboarding Leads"<br>
4. Include company + email in message<br><br>
âš ï¸ No notification = auto-rotation!`,
                    copyText: "Corporate Registration: https://www.xbo.com/corporate/register\n\nWhen sharing:\n1. Collect Company Name + Email\n2. Send link\n3. Notify Marcel on Teams (New Onboarding Leads)\n4. Include company + email"
                },
                
                // Help
                {
                    triggers: ["help", "what can you", "××” ××ª×” ×™×›×•×œ"],
                    response: `<strong>ğŸ¤– I can help with:</strong><br><br>
<strong>Pricing:</strong><br>
â€¢ "OTC fee for $3M deal"<br>
â€¢ "CryptoPayX pricing"<br>
â€¢ "Spot trading fees"<br><br>
<strong>Products:</strong><br>
â€¢ "What is Credit Line?"<br>
â€¢ "Explain CaaS"<br>
â€¢ "IBAN features"<br><br>
<strong>Sales:</strong><br>
â€¢ "iGaming pitch"<br>
â€¢ "Broker pitch"<br>
â€¢ "Bank/EMI pitch"<br><br>
<strong>Other:</strong><br>
â€¢ "Prohibited countries"<br>
â€¢ "Settlement times"<br>
â€¢ "Supported crypto"`,
                    copyText: null
                }
            ]
        };

        function toggleAIChat() {
            const panel = document.getElementById('aiChatPanel');
            panel.classList.toggle('open');
            if (panel.classList.contains('open')) {
                document.getElementById('aiChatInput').focus();
            }
        }

        function handleAIChatKeypress(e) {
            if (e.key === 'Enter') {
                sendAIMessage();
            }
        }

        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            const messages = document.getElementById('aiChatMessages');
            const query = input.value.trim();
            
            if (!query) return;
            
            // Add user message
            messages.innerHTML += `
                <div class="ai-message user">
                    <div class="message-content">${escapeHtml(query)}</div>
                </div>
            `;
            
            input.value = '';
            
            // Find response
            const response = findAIResponse(query);
            
            // Add bot response with slight delay
            setTimeout(() => {
                let responseHtml = `
                    <div class="ai-message bot">
                        <div class="message-content">
                            ${response.text}
                `;
                
                if (response.copyText) {
                    const copyId = 'copy-' + Date.now();
                    responseHtml += `
                            <br><button class="copy-response-btn" id="${copyId}" onclick="copyAIResponse('${copyId}', \`${response.copyText.replace(/`/g, '\\`')}\`)">
                                ğŸ“‹ Copy for client
                            </button>
                    `;
                }
                
                responseHtml += `
                        </div>
                    </div>
                `;
                
                messages.innerHTML += responseHtml;
                messages.scrollTop = messages.scrollHeight;
            }, 300);
        }

        function findAIResponse(query) {
            const q = query.toLowerCase();
            
            for (const pattern of aiResponses.patterns) {
                for (const trigger of pattern.triggers) {
                    if (q.includes(trigger)) {
                        return {
                            text: pattern.response,
                            copyText: pattern.copyText
                        };
                    }
                }
            }
            
            // Fallback
            return {
                text: `ğŸ¤” ×œ× ××¦××ª×™ ××™×“×¢ ×¡×¤×¦×™×¤×™ ×¢×œ ×–×”.<br><br>
× ×¡×” ×œ×©××•×œ ×¢×œ:<br>
â€¢ <strong>××•×¦×¨×™×:</strong> Credit Line, CaaS, CryptoPayX, IBAN<br>
â€¢ <strong>×ª××—×•×¨:</strong> OTC fees, Spot fees, Processing fees<br>
â€¢ <strong>×¤×™×¥'×™×:</strong> iGaming pitch, Broker pitch, Bank pitch<br><br>
××• ×”×§×œ×“ <strong>"help"</strong> ×œ×¨×©×™××” ××œ××”.`,
                copyText: null
            };
        }

        function copyAIResponse(btnId, text) {
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.getElementById(btnId);
                btn.innerHTML = 'âœ“ Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.innerHTML = 'ğŸ“‹ Copy for client';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>
